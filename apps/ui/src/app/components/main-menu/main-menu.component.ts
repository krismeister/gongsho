import { CommonModule } from '@angular/common';
import { Component, HostListener } from '@angular/core';
import { RouterModule } from '@angular/router';
import { NgIcon, provideIcons } from '@ng-icons/core';
import { lucideGithub, lucideMoon, lucideSquarePlus, lucideSun } from '@ng-icons/lucide';
import { HlmButtonDirective } from '@spartan-ng/ui-button-helm';
import { UserPreferenceService } from '../../services/user-preference.service';

@Component({
  selector: 'app-main-menu',
  standalone: true,
  imports: [CommonModule, RouterModule, HlmButtonDirective, NgIcon],
  providers: [provideIcons({ lucideGithub, lucideSun, lucideMoon, lucideSquarePlus })],
  template: `
    <nav
    [class]="'fixed top-0 left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 z-[2] transition-shadow ' + (isScrolled ? 'shadow-md' : '')"
    >
      <div class="container mx-auto px-4 py-2">
        <div class="flex justify-between items-center h-8">
          <!-- Logo -->
          <div class="flex items-center gap-4">
            <a routerLink="/" class="block" aria-label="Home">
              <svg
                class="h-6 fill-purple-900 dark:fill-purple-100"
                viewBox="0 0 184.35 39.676"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="m66.182 16.65h-1.485c-0.667-2.712-1.662-4.756-2.985-6.132-1.323-1.377-2.942-2.066-4.856-2.066-2.388 0-4.185 0.979-5.39 2.938-1.204 1.957-1.806 4.84-1.806 8.648 0 1.807 0.134 3.334 0.403 4.582s0.715 2.345 1.339 3.292c0.581 0.838 1.377 1.516 2.388 2.032 1.011 0.517 2.065 0.775 3.163 0.775 1.097 0 2.129-0.258 3.098-0.775 0.967-0.516 1.667-1.194 2.097-2.032 0.193-0.41 0.349-0.937 0.467-1.582 0.119-0.645 0.178-1.333 0.178-2.065 0-0.452-0.027-0.812-0.081-1.081s-0.183-0.474-0.387-0.614c-0.204-0.139-0.51-0.23-0.919-0.274-0.41-0.043-0.969-0.064-1.679-0.064h-0.645v-1.582h10.746v1.582h-0.517c-0.903 0-1.559 0.037-1.968 0.113-0.408 0.075-0.688 0.199-0.839 0.37-0.043 0.065-0.08 0.129-0.112 0.194-0.033 0.065-0.054 0.162-0.065 0.291-0.011 0.13-0.017 0.318-0.017 0.565v1.049 7.453h-1.451l-1.26-3.064c-1.075 1.096-2.161 1.887-3.258 2.371s-2.356 0.727-3.776 0.727c-1.613 0-3.156-0.334-4.63-1.001s-2.738-1.593-3.792-2.776c-1.979-2.215-2.969-5.044-2.969-8.486 0-2.281 0.393-4.292 1.178-6.034 0.785-1.743 2.017-3.292 3.695-4.648 1.075-0.882 2.162-1.511 3.259-1.887 1.097-0.377 2.313-0.565 3.647-0.565 0.602 0 1.161 0.038 1.677 0.113 0.517 0.075 1.017 0.204 1.501 0.387s0.963 0.419 1.436 0.71 0.979 0.662 1.517 1.114l1.323-2.034h1.323l0.452 9.456zm12.338-1.098c0.99 0 1.92 0.221 2.791 0.662 0.872 0.441 1.636 1.037 2.292 1.79s1.172 1.635 1.548 2.646c0.377 1.012 0.565 2.098 0.565 3.26s-0.188 2.254-0.565 3.276c-0.376 1.021-0.892 1.908-1.548 2.661s-1.431 1.35-2.324 1.791c-0.893 0.442-1.845 0.663-2.856 0.663s-1.957-0.221-2.839-0.663c-0.882-0.441-1.657-1.038-2.324-1.791s-1.189-1.635-1.565-2.646c-0.377-1.011-0.565-2.097-0.565-3.259 0-1.183 0.193-2.285 0.581-3.307 0.387-1.022 0.909-1.91 1.566-2.663 0.656-0.752 1.435-1.344 2.339-1.774 0.903-0.431 1.871-0.646 2.904-0.646zm0 1.42c-1.291 0-2.254 0.586-2.888 1.758-0.635 1.173-0.952 2.91-0.952 5.212 0 2.237 0.317 3.942 0.952 5.114 0.634 1.173 1.565 1.76 2.791 1.76s2.162-0.587 2.808-1.76c0.645-1.172 0.967-2.887 0.967-5.146 0-2.238-0.317-3.953-0.952-5.147-0.634-1.194-1.543-1.791-2.726-1.791zm9.252-0.549 5.841-0.354v2.71c0.753-1.118 1.559-1.936 2.42-2.453 0.861-0.516 1.829-0.774 2.904-0.774 1.011 0 1.92 0.231 2.727 0.694s1.426 1.103 1.856 1.92c0.15 0.279 0.274 0.537 0.37 0.774 0.097 0.237 0.167 0.506 0.211 0.807 0.042 0.302 0.074 0.657 0.096 1.065 0.022 0.409 0.032 0.914 0.032 1.516v6.648c0 0.345 0.032 0.619 0.097 0.823 0.064 0.204 0.183 0.366 0.355 0.485 0.172 0.118 0.425 0.193 0.758 0.225s0.769 0.048 1.307 0.048h0.162v1.227h-8.551v-1.227h0.128c0.56 0 1.006-0.016 1.34-0.048 0.333-0.032 0.592-0.107 0.774-0.225 0.183-0.119 0.306-0.281 0.371-0.485 0.064-0.204 0.096-0.478 0.096-0.823v-6.808c0-0.818-0.064-1.495-0.193-2.034-0.129-0.538-0.323-0.99-0.581-1.355-0.258-0.344-0.608-0.629-1.049-0.855s-0.876-0.339-1.306-0.339c-0.753 0-1.468 0.237-2.146 0.71s-1.2 1.097-1.565 1.871c-0.172 0.409-0.318 0.963-0.436 1.662s-0.177 1.469-0.177 2.308v4.84c0 0.345 0.032 0.619 0.096 0.823 0.065 0.204 0.188 0.366 0.371 0.485 0.183 0.118 0.442 0.193 0.775 0.225 0.334 0.032 0.78 0.048 1.34 0.048h0.128v1.227h-8.551v-1.227h0.129c0.538 0 0.979-0.016 1.323-0.048s0.603-0.107 0.775-0.225c0.172-0.119 0.29-0.281 0.354-0.485 0.065-0.204 0.097-0.478 0.097-0.823v-9.422c0-0.366-0.016-0.662-0.048-0.888-0.033-0.225-0.102-0.398-0.209-0.516-0.108-0.119-0.254-0.199-0.437-0.242s-0.435-0.064-0.758-0.064h-1.226v-1.421zm29.744 12.876c1.184 0 2.092 0.038 2.726 0.113 0.635 0.075 1.168 0.199 1.598 0.371 0.624 0.258 1.119 0.699 1.485 1.323s0.549 1.355 0.549 2.194c0 3.593-2.818 5.39-8.455 5.39-2.281 0-4.045-0.307-5.293-0.921-1.248-0.613-1.871-1.478-1.871-2.597 0-1.398 1.032-2.474 3.097-3.227-0.795-0.28-1.37-0.64-1.726-1.081-0.355-0.441-0.532-1.038-0.532-1.791 0-0.947 0.253-1.689 0.758-2.227 0.506-0.537 1.329-0.935 2.469-1.193-0.904-0.409-1.603-1.012-2.098-1.808s-0.742-1.699-0.742-2.71c0-0.839 0.156-1.603 0.468-2.292 0.312-0.688 0.758-1.274 1.34-1.758 0.58-0.484 1.279-0.86 2.097-1.129 0.817-0.269 1.731-0.404 2.742-0.404 0.861 0 1.598 0.092 2.211 0.275 0.614 0.183 1.265 0.521 1.953 1.016 0.387-0.366 0.726-0.667 1.016-0.904s0.559-0.42 0.806-0.549c0.248-0.129 0.485-0.22 0.711-0.273 0.225-0.054 0.467-0.081 0.725-0.081 0.668 0 1.211 0.188 1.63 0.564 0.419 0.377 0.629 0.845 0.629 1.405 0 0.473-0.145 0.86-0.435 1.161-0.291 0.301-0.651 0.452-1.081 0.452-0.431 0-0.78-0.102-1.05-0.307-0.268-0.204-0.434-0.511-0.499-0.919-0.022-0.194-0.059-0.318-0.113-0.372-0.053-0.053-0.124-0.08-0.21-0.08-0.129 0-0.28 0.054-0.452 0.162-0.172 0.107-0.408 0.321-0.709 0.644 0.495 0.559 0.828 1.081 0.999 1.566 0.173 0.484 0.259 1.059 0.259 1.726 0 1.118-0.269 2.103-0.806 2.953-0.538 0.85-1.324 1.501-2.356 1.952-0.237 0.108-0.452 0.189-0.645 0.242-0.194 0.054-0.409 0.102-0.646 0.145s-0.516 0.081-0.839 0.113c-0.323 0.033-0.721 0.059-1.194 0.081l-1.517 0.065c-1.14 0.042-1.952 0.182-2.436 0.419-0.484 0.236-0.727 0.602-0.727 1.097 0 0.172 0.038 0.35 0.114 0.532 0.075 0.183 0.167 0.306 0.274 0.371 0.107 0.064 0.204 0.113 0.291 0.146 0.086 0.033 0.204 0.059 0.354 0.081 0.151 0.021 0.361 0.037 0.629 0.048 0.269 0.011 0.63 0.016 1.082 0.016h3.42zm-1.419-12.327c-1.162 0-2.044 0.366-2.646 1.097-0.603 0.732-0.904 1.765-0.904 3.098 0 1.291 0.306 2.302 0.919 3.033 0.614 0.732 1.447 1.098 2.501 1.098 1.097 0 1.947-0.371 2.55-1.113 0.602-0.743 0.903-1.781 0.903-3.115 0-1.291-0.285-2.297-0.855-3.017-0.57-0.721-1.393-1.081-2.468-1.081zm-2.808 15.231c-0.817 0.43-1.393 0.844-1.726 1.242-0.334 0.398-0.501 0.866-0.501 1.405 0 0.795 0.388 1.397 1.163 1.806 0.774 0.409 1.871 0.613 3.291 0.613 1.893 0 3.367-0.269 4.421-0.806 1.054-0.538 1.581-1.291 1.581-2.259 0-0.538-0.199-0.979-0.597-1.323s-0.941-0.549-1.63-0.614c-0.172-0.021-0.349-0.037-0.532-0.048s-0.426-0.016-0.727-0.016h-4.743zm31.126-16.199h-1.42c-0.236-0.882-0.505-1.689-0.807-2.42-0.3-0.732-0.698-1.442-1.193-2.131-1.377-1.978-3.27-2.968-5.68-2.968-1.42 0-2.571 0.371-3.453 1.113-0.882 0.743-1.323 1.706-1.323 2.888 0 1.033 0.355 1.888 1.066 2.566 0.709 0.678 1.828 1.21 3.355 1.598l3.615 0.935c1.333 0.344 2.371 0.672 3.114 0.985 0.742 0.311 1.349 0.693 1.822 1.144 1.356 1.313 2.034 3.023 2.034 5.132 0 1.14-0.194 2.167-0.581 3.081-0.387 0.915-0.936 1.695-1.646 2.34s-1.565 1.145-2.565 1.5c-1.001 0.356-2.114 0.534-3.341 0.534-0.753 0-1.436-0.044-2.049-0.13-0.612-0.086-1.204-0.231-1.774-0.436-0.57-0.204-1.118-0.468-1.646-0.79-0.527-0.323-1.081-0.721-1.662-1.195l-1.517 2.292h-1.386v-9.617h1.386c0.258 1.312 0.586 2.404 0.984 3.276 0.399 0.871 0.953 1.705 1.663 2.501 0.818 0.882 1.683 1.527 2.598 1.935 0.914 0.409 2.006 0.614 3.275 0.614 0.946 0 1.726-0.102 2.34-0.307 0.613-0.204 1.199-0.554 1.758-1.048 1.011-0.925 1.517-2.055 1.517-3.389 0-1.355-0.527-2.43-1.582-3.227-0.172-0.129-0.328-0.242-0.467-0.338-0.14-0.097-0.323-0.183-0.549-0.259-0.226-0.075-0.527-0.16-0.904-0.257-0.376-0.098-0.876-0.232-1.5-0.404l-3.194-0.807c-1.248-0.322-2.302-0.683-3.163-1.081s-1.56-0.861-2.097-1.388c-0.538-0.527-0.931-1.14-1.178-1.838-0.248-0.7-0.372-1.512-0.372-2.437 0-1.055 0.178-2.017 0.532-2.888 0.355-0.871 0.856-1.613 1.502-2.227 0.645-0.613 1.424-1.086 2.339-1.42 0.914-0.333 1.92-0.5 3.017-0.5 1.205 0 2.334 0.194 3.388 0.582 1.055 0.387 1.979 0.967 2.775 1.742l1.356-2.066h1.226l0.387 8.81zm3.005-8.745 6.227-0.355v11.908c0.774-1.14 1.587-1.969 2.437-2.486 0.85-0.516 1.813-0.774 2.888-0.774 1.032 0 1.947 0.231 2.743 0.694s1.409 1.103 1.84 1.92c0.15 0.279 0.273 0.537 0.37 0.774s0.167 0.506 0.21 0.807c0.043 0.302 0.075 0.657 0.097 1.065 0.021 0.409 0.032 0.914 0.032 1.516v6.648c0 0.345 0.032 0.619 0.097 0.823 0.064 0.204 0.183 0.366 0.355 0.485 0.172 0.118 0.425 0.193 0.758 0.225s0.769 0.048 1.307 0.048h0.162v1.227h-8.552v-1.227h0.129c0.559 0 1.006-0.016 1.34-0.048 0.333-0.032 0.591-0.107 0.774-0.225 0.182-0.119 0.306-0.281 0.37-0.485 0.065-0.204 0.097-0.478 0.097-0.823v-6.776c0-0.818-0.064-1.501-0.193-2.049-0.13-0.549-0.323-1.007-0.581-1.372-0.258-0.344-0.607-0.629-1.048-0.855s-0.877-0.339-1.308-0.339c-0.753 0-1.468 0.237-2.145 0.71-0.678 0.473-1.2 1.097-1.565 1.871-0.172 0.409-0.318 0.963-0.437 1.662-0.118 0.699-0.177 1.469-0.177 2.308v4.84c0 0.345 0.033 0.619 0.097 0.823 0.065 0.204 0.189 0.366 0.372 0.485 0.182 0.118 0.44 0.193 0.774 0.225s0.78 0.048 1.339 0.048h0.129v1.227h-8.551v-1.227h0.128c0.539 0 0.98-0.016 1.323-0.048 0.345-0.032 0.603-0.107 0.776-0.225 0.171-0.119 0.289-0.281 0.354-0.485 0.064-0.204 0.097-0.478 0.097-0.823v-18.555c0-0.731-0.086-1.199-0.258-1.403-0.172-0.205-0.57-0.307-1.194-0.307h-1.613v-1.452zm28.614 8.293c0.99 0 1.921 0.221 2.792 0.662 0.87 0.441 1.634 1.037 2.29 1.79s1.173 1.635 1.55 2.646c0.376 1.012 0.564 2.098 0.564 3.26s-0.188 2.254-0.564 3.276c-0.377 1.021-0.894 1.908-1.55 2.661s-1.43 1.35-2.322 1.791c-0.893 0.442-1.845 0.663-2.856 0.663s-1.958-0.221-2.84-0.663c-0.882-0.441-1.657-1.038-2.323-1.791-0.668-0.753-1.189-1.635-1.565-2.646-0.377-1.011-0.566-2.097-0.566-3.259 0-1.183 0.194-2.285 0.581-3.307s0.909-1.91 1.565-2.663c0.656-0.752 1.436-1.344 2.34-1.774 0.903-0.431 1.871-0.646 2.904-0.646zm0 1.42c-1.291 0-2.253 0.586-2.887 1.758-0.635 1.173-0.953 2.91-0.953 5.212 0 2.237 0.318 3.942 0.953 5.114 0.634 1.173 1.564 1.76 2.791 1.76 1.225 0 2.161-0.587 2.807-1.76 0.645-1.172 0.968-2.887 0.968-5.146 0-2.238-0.317-3.953-0.952-5.147-0.634-1.194-1.543-1.791-2.727-1.791z"
                />
                <path
                  d="m64.304 17.15-0.093-0.381c-0.649-2.662-1.581-4.592-2.86-5.905-1.24-1.32-2.679-1.912-4.495-1.912-2.268 0-3.852 0.83-4.964 2.7-1.172 1.877-1.732 4.629-1.732 8.386 0 1.785 0.129 3.259 0.392 4.477 0.26 1.205 0.665 2.216 1.265 3.119 0.538 0.79 1.238 1.381 2.201 1.865 0.956 0.497 1.896 0.72 2.935 0.72 1.036 0 1.951-0.221 2.863-0.716 0.91-0.475 1.5-1.041 1.881-1.808 0.18-0.374 0.314-0.837 0.426-1.456 0.116-0.621 0.17-1.263 0.17-1.974 0-0.433-0.023-0.744-0.071-0.983-0.037-0.181-0.046-0.233-0.179-0.299-0.135-0.106-0.325-0.155-0.689-0.19-0.393-0.042-0.926-0.061-1.627-0.061h-1.145v-2.582h11.746v2.582h-1.017c-0.889 0-1.5 0.033-1.878 0.105-0.352 0.057-0.441 0.087-0.518 0.163-0.032 0.047-0.053 0.085-0.077 0.135-0.012 5e-3 -7e-3 0.01-0.013 0.107-0.01 0.117-0.015 0.284-0.015 0.523v1.049 7.953h-2.286l-1.107-2.693c-0.942 0.866-1.729 1.452-2.874 1.957-1.148 0.507-2.511 0.77-3.978 0.77-1.666 0-3.314-0.357-4.836-1.045-1.521-0.689-2.866-1.681-3.959-2.899-2.028-2.299-3.096-5.294-3.096-8.819 0-2.329 0.42-4.443 1.222-6.239 0.817-1.796 2.119-3.436 3.835-4.83 1.108-0.906 2.272-1.577 3.413-1.973 1.14-0.387 2.437-0.592 3.809-0.592 0.619 0 1.214 0.041 1.749 0.118 0.543 0.081 1.096 0.222 1.606 0.414 0.506 0.192 1.028 0.449 1.521 0.752 0.49 0.302 0.743 0.491 1.139 0.802l1.168-1.796h2.071l0.499 10.456h-2.402zm0.949-9.456h-0.575l-1.483 2.281-0.433-0.364c-0.525-0.442-1.001-0.791-1.457-1.071-0.453-0.279-0.889-0.494-1.351-0.668-0.458-0.174-0.905-0.29-1.396-0.36-0.497-0.073-1.02-0.108-1.605-0.108-1.296 0-2.431 0.171-3.484 0.538-1.053 0.356-2.063 0.942-3.105 1.801-1.639 1.317-2.803 2.776-3.556 4.466-0.768 1.688-1.134 3.596-1.134 5.829 0 3.359 0.912 6.022 2.842 8.153 1.015 1.148 2.198 2.008 3.625 2.653 1.426 0.646 2.864 0.957 4.424 0.957 1.373 0 2.528-0.223 3.574-0.684 1.049-0.463 2.059-1.195 3.103-2.264l0.53-0.543 1.422 3.457h0.616v-8.002c0-0.255 7e-3 -0.464 0.019-0.607 0.016-0.161 0.063-0.35 0.117-0.475 0.04-0.079 0.09-0.166 0.141-0.244l0.025-0.038 0.017-0.017c0.237-0.234 0.659-0.438 1.123-0.531 0.441-0.079 1.142-0.121 2.059-0.121h0.017v-0.582h-9.746v0.582h0.145c0.719 0 1.304 0.023 1.731 0.067 0.454 0.053 0.875 0.186 1.149 0.358 0.274 0.213 0.524 0.572 0.595 0.929 0.06 0.299 0.091 0.708 0.091 1.179 0 0.753-0.064 1.486-0.186 2.155-0.124 0.671-0.3 1.259-0.507 1.705-0.478 0.903-1.29 1.703-2.314 2.26-1.026 0.539-2.175 0.834-3.333 0.834-1.157 0-2.325-0.293-3.39-0.83-1.06-0.548-1.948-1.306-2.572-2.192-0.647-0.99-1.139-2.181-1.417-3.472-0.275-1.278-0.414-2.858-0.414-4.687 0-3.859 0.644-6.873 1.88-8.91 1.298-2.048 3.308-3.176 5.816-3.176 2.012 0 3.811 0.786 5.216 2.22 1.368 1.439 2.327 3.398 3.013 5.978h0.573l-0.405-8.456zm13.267 7.358c1.048 0 2.091 0.255 3.017 0.716 0.913 0.467 1.756 1.119 2.443 1.908 0.687 0.788 1.245 1.75 1.64 2.8 0.389 1.056 0.596 2.229 0.596 3.434 0 1.204-0.207 2.383-0.596 3.449-0.394 1.06-0.953 2.028-1.64 2.816-0.688 0.79-1.545 1.444-2.479 1.911-0.948 0.462-2.01 0.715-3.078 0.715s-2.126-0.254-3.063-0.716c-0.923-0.466-1.776-1.118-2.474-1.906-0.699-0.789-1.264-1.752-1.66-2.803-0.389-1.056-0.596-2.229-0.596-3.434 0-1.226 0.213-2.417 0.614-3.484 0.405-1.06 0.972-2.024 1.656-2.815 0.693-0.786 1.553-1.44 2.501-1.896 0.956-0.45 2.032-0.695 3.119-0.695zm-2.689 1.597c-0.86 0.404-1.559 0.934-2.178 1.652-0.629 0.715-1.102 1.528-1.524 2.511-0.371 0.978-0.549 1.99-0.549 3.13 0 1.119 0.17 2.118 0.534 3.084 0.357 0.971 0.831 1.775 1.471 2.489 0.631 0.721 1.331 1.26 2.173 1.676 0.826 0.422 1.662 0.61 2.616 0.61s1.796-0.189 2.634-0.611c0.85-0.415 1.543-0.955 2.167-1.671 0.625-0.718 1.099-1.139 1.543-2.178 0.364-0.978 0.533-1.983 0.533-3.103 0-1.119-0.169-2.118-0.533-3.086-0.358-0.972-0.832-1.774-1.458-2.492-0.625-0.717-1.31-1.257-2.139-1.672-0.816-0.421-1.634-0.608-2.566-0.608-0.979 0-1.839 0.185-2.689 0.597zm5.857 1.879c0.671 1.261 1.011 3.099 1.011 5.382 0 2.305-0.358 4.141-1.03 5.387-0.732 1.264-1.887 2.019-3.245 2.019-1.36 0-2.51-0.757-3.231-2.022-0.661-1.245-1.013-3.069-1.013-5.352 0-2.347 0.352-4.203 1.013-5.45 0.724-1.266 1.906-2.02 3.327-2.02 1.321 0 2.477 0.756 3.168 2.056zm-3.168-1.056c-1.161 0-1.903 0.418-2.447 1.496-0.609 1.099-0.893 2.717-0.893 4.974 0 2.191 0.284 3.777 0.893 4.876 0.547 1.08 1.257 1.498 2.351 1.498 1.092 0 1.809-0.419 2.369-1.501 0.618-1.098 0.906-2.692 0.906-4.905 0-2.193-0.294-3.785-0.893-4.912-0.579-1.088-1.239-1.526-2.286-1.526z"
                />
                <path
                  class="ccustom"
                  d="m19.148 38.492c10.253 0 18.564-8.31 18.564-18.562 0-10.253-8.311-18.564-18.564-18.564-10.251 0-18.562 8.311-18.562 18.564 0 10.252 8.311 18.562 18.562 18.562zm2.866-22.783c1.582-1.583 1.582-4.148 0-5.73-1.582-1.584-4.148-1.584-5.73 0-1.582 1.582-1.582 4.147 0 5.73l2.864 2.864 2.866-2.864zm1.356 7.085c1.582 1.583 4.148 1.583 5.73 0 1.583-1.582 1.583-4.148 0-5.73-1.582-1.582-4.148-1.582-5.73 0l-2.865 2.866 2.865 2.864zm-1.356 7.086c1.582-1.583 1.582-4.147 0-5.731l-2.866-2.863-2.864 2.863c-1.582 1.584-1.582 4.148 0 5.731s4.148 1.583 5.73 0zm-12.816-7.086c-1.583-1.582-1.583-4.148 0-5.73s4.147-1.582 5.731 0l2.864 2.866-2.864 2.864c-1.584 1.583-4.148 1.583-5.731 0z"
                  clip-rule="evenodd"
                  fill-rule="evenodd"
                />
              </svg>
            </a>
            
            <a
              hlmBtn
              routerLink="/"
              variant="ghostPurple"
              size="xsm"
            >
              <ng-icon 
                name="lucideSquarePlus" 
                class="mr-1"
                style="width: 16px; height: 16px;"
              />
              <span class="relative top-[1px]">
                New Conversation
              </span>
            </a>
          </div>

          <!-- Theme Toggle Button -->
          <div class="flex items-center gap-2">
            <a
              hlmBtn
              href="https://github.com/krismeister/gongsho"
              target="_blank"
              variant="ghostPurple"
              size="xsm"
              aria-label="GitHub Repository"
            >
              <ng-icon 
                name="lucideGithub" 
                class="w-4 h-4"
              />
            </a>
            <button
              hlmBtn
              (click)="toggleTheme()"
              variant="ghostPurple"
              size="xsm"
              aria-label="Toggle theme"
            >
              @if (userPreferenceService.isDark()) {
                <ng-icon 
                  name="lucideSun" 
                  class="w-4 h-4"
                />
              } @else {
                <ng-icon 
                  name="lucideMoon" 
                  class="w-4 h-4"
                />
              }
            </button>
          </div>
        </div>
      </div>
    </nav>
  `,
})
export class MainMenuComponent {
  isScrolled = false;

  constructor(public userPreferenceService: UserPreferenceService) {
    // Check initial scroll position
    this.checkScroll();
  }

  @HostListener('window:scroll', ['$event'])
  checkScroll() {
    this.isScrolled = window.scrollY > 10;
  }

  toggleTheme() {
    this.userPreferenceService.toggleTheme();
  }
}
